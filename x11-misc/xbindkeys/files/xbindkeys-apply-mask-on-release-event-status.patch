From d4a943caa3d700a5edb18d5ab528e8cf7f6d54c9 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Alberto=20S=E1nchez=20Molero?= <alsamolero@gmail.com>
Date: Mon, 10 Feb 2014 21:11:05 +0100
Subject: Fix keyboard layout problems - Ignore 13th and 14th bits of button
 state

Author:    Alberto Sanchez Molero <alsamolero@gmail.com>
---
 xbindkeys.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/xbindkeys.c b/xbindkeys.c
index b0adef9..5b1b86b 100644
--- a/xbindkeys.c
+++ b/xbindkeys.c
@@ -377,7 +377,7 @@ event_loop (Display * d)
 	      printf ("e.xbutton.state=%d\n", e.xbutton.state);
 	    }
 
-	  e.xbutton.state &= ~(numlock_mask | capslock_mask | scrolllock_mask
+	  e.xbutton.state &= 0x1FFF & ~(numlock_mask | capslock_mask | scrolllock_mask
 			       | Button1Mask | Button2Mask | Button3Mask
 			       | Button4Mask | Button5Mask);
 
@@ -409,7 +409,7 @@ event_loop (Display * d)
 	      printf ("e.xbutton.state=%d\n", e.xbutton.state);
 	    }
 
-	  e.xbutton.state &= ~(numlock_mask | capslock_mask | scrolllock_mask
+	  e.xbutton.state &= 0x1FFF & ~(numlock_mask | capslock_mask | scrolllock_mask
 			       | Button1Mask | Button2Mask | Button3Mask
 			       | Button4Mask | Button5Mask);
 
-- 
cgit v1.2.1

